
(function(){function r(f){function h(a,b){b=b?RightNow.Url.convertToSegment(RightNow.Url.convertToArray(1,b)):"";d.add({state:a},{url:p.getCurrentPage()+b})}function k(a){return function(){g||a.apply(this,arguments)}}var c={},e={},a={},b="",g=!1,d=new f.HistoryHTML5;d.on("change",function(a){var b;a.src===f.HistoryHTML5.SRC_POPSTATE&&(a=a.changed.state||a.changed[RightNow.Event.browserHistoryManagementKey],b=m.get(),g=!0,a?f.Object.each(a.newVal,function(a){q.ajaxCallback(a.response,a.data)}):f.Object.each(b,function(a){a.fire("reset").fire("send")}),g=!1)});return{enabled:!0,setCache:function(a,b,g){c[a]||(c[a]={});c[a][b]=g},checkCache:function(a,b){return c[a]?c[a][b]:null},restoreCache:k(function(c){if(f.Object.isEmpty(e)){var g=Object.keys(a)[0];g&&a[g]&&(a={newTransactionID:c});h(a,b+=c.friendly)}b=""}),addRequest:k(function(c,g){f.Object.isEmpty(e)&&(q.searchesPerformed++,a={},b="");e[g]=c}),addResponse:k(function(c,g){var d=e[g];if(d){var k=b+=d.friendly,d=f.merge(d,c);a[g]=d;delete e[g];f.Object.isEmpty(e)&&h(a,k)}}),clearCache:function(a){c[a]=null},doesCacheExist:function(a){return c[a]?!0:!1}}}var l,q,p,m;"pushState"in window.history?YUI().use("history-html5",function(f){l=r(f)}):l={enabled:!1};q=function(){function f(a,b,c){var d="undefined"===typeof c;a&&!d&&l.addResponse({response:a,data:b},c);l.setCache(b.searchSource,b.cacheKey,a);c=m.get(b.searchSource);d&&(c.once("send",function(){return!1}).fire("send",b.allFilters),a.fromHistoryManager=!0);c.fire("response",new RightNow.Event.EventObject(null,{data:a,filters:b.allFilters}))}function h(a,b,c,d){a=RightNow.Ajax.makeRequest(a,b,{successHandler:f,failureHandler:function(a){var b=RightNow.Interface.getMessage("THERE_PROB_REQ_ACTION_COULD_COMPLETED_MSG");403===a.status&&void 0!==a.responseText&&(b=a.responseText);RightNow.UI.Dialog.messageDialog(b,{icon:"WARN",exitCallback:function(){window.location.reload(!0)}})},json:!0,data:c,timeout:1E4});l.addRequest(d,a.id+"")}function k(a,b,c,d){var f=["keyword"].concat(a.filters||[]),s=f.length,h,k,l={};c=RightNow.Lang.cloneObject(c);a.params&&(c=e.mix(c,a.params));if(b&&b.allFilters)for(a=0;a<s;a++)h=f[a],(k=b.allFilters[h])&&k.filters&&k.filters.data&&!c[h]&&("keyword"!==h||d||(h="kw"),l[h]=c[h]=k.filters.data);c.page&&!l.page&&(l.page=c.page);return{filtersToInclude:l,params:c}}function c(a,b){b&&1!==b||(a=RightNow.Url.addParameter(a,"search","1"));return a}var e=YUI();return{searchesPerformed:0,go:function(a,b,g,d,e){if("report"===d.type){if("undefined"===typeof b)throw Error("No search filters have been defined for report "+d.id);RightNow.Event.fire("evt_searchRequest",new RightNow.Event.EventObject(this,{filters:b}));if(!l.enabled||!0===a.newPage||a.reportPage&&!RightNow.Url.isSameUrl(a.reportPage))if(g=RightNow.Url,d=a.reportPage||p.getCurrentPage(),e=a.target||"_self",!a.page&&b.allFilters.page&&(a.page=1,b.allFilters.page=1),d=g.convertSearchFiltersToParms(d,b.allFilters,0),d=g.addParameter(d,"session",g.getSession()),d=c(d,b.allFilters.page),a.popupWindow){b=window.screenX||window.screenLeft;g=window.screenY||window.screenTop;var f;f=b+document.body.clientWidth;e=screen.width*a.width/100;a=screen.height*a.height/100;f=b>screen.width-f?b-e-15:f+15;var n=window.screenY?window.screenY:window.screenTop;0>f&&(f=b+100);0>n&&(n=g+100);window.open(d,"_blank","scrollbars=1,resizable=1,left="+f+",top="+n+",width="+e+"px,height="+a+"px")}else window.open(d,e);else a.page?delete b.allFilters.search:b.allFilters.page=1,a=d.id,d=d.type+d.id,g=p.buildReportRequestParameters(a,b.allFilters,b.format,b.token,0),e=RightNow.Url.convertSearchFiltersToParms("",b.allFilters,""),f=g.sf,1===f.page&&(f.search=1),f=RightNow.JSON.stringify(f),n=l.checkCache(d,f),e={friendly:e,response:n,data:{allFilters:b,cacheKey:f,key:d}},n?(l.restoreCache(e),m.get(d).fire("response",new RightNow.Event.EventObject(null,{data:n,filters:b}))):h("/ci/ajaxRequest/getReportData",{filters:f,report_id:a,r_tok:g.token,format:RightNow.JSON.stringify(g.fmt)},{searchSource:d,allFilters:b,cacheKey:f},e)}else if(g&&"object"===typeof g&&d.id)if(RightNow.Event.fire("evt_searchRequest",new RightNow.Event.EventObject(this,{filters:b})),l.enabled&&!0!==a.newPage){a=e.endpoint;b=k(e,b,g,!0);g=b.filtersToInclude;b=b.params;if(!a)throw Error("An endpoint hasn't been specified");d=d.type+d.id;e=RightNow.JSON.stringify(b);f=l.checkCache(d,e);g={key:d,friendly:RightNow.Url.convertToSegment(g)};f?(l.restoreCache(g),m.get(d).fire("response",new RightNow.Event.EventObject(null,{data:f,filters:b}))):h(a,b,{searchSource:d,allFilters:b,cacheKey:e},g)}else a=RightNow.Url,d=p.getCurrentPage(),b=k(e,b,g,!1).filtersToInclude,d+=a.convertToSegment(b),d=a.addParameter(d,"session",a.getSession()),d=c(d,b.page),window.open(d,"_self")},ajaxCallback:f}}();p={buildReportRequestParameters:function(f,h,k,c,e){var a=RightNow.Lang.cloneObject(h),b;for(b in a)a.hasOwnProperty(b)&&(a[b].filters&&(a[b].filters.report_id=parseInt(f,10)),a[b].data&&delete a[b].data);k||(k={});k.urlParms=RightNow.Url.buildUrlLinkString(h,k.parmList);return{c:e,id:f,sf:a,fmt:k,token:c}},getCurrentPage:function(){var f=window.location,h=f.pathname,f=f.origin||f.protocol+"//"+f.host;return"/"===h||"/app"===h||"/app/"===h?f+"/app/"+RightNow.Interface.getConfig("CP_HOME_URL"):h.split("/").slice(0,RightNow.Url.getParameterSegment()-1).join("/")}};m=function(){function f(c){if(!c||!c.length||2>c.length)throw Error("You're doing it wrong");this.sources=c;this.multiple=!0}var h={},k=RightNow.EventProvider.extend({overrides:{constructor:function(c,e){this.parent();this.Y=c;delete this.data;delete this.baseDomID;delete this.baseSelector;this.searchSource=e;this.instanceID=e.id;this._addEventHandler("search",{pre:function(a){this._params||(this._params={});a instanceof RightNow.Event.EventObject&&(this._originalEventObject=RightNow.Lang.cloneObject(a),this._collectSearchFilters(a),this._params.newPage=a.filters.newPage)},during:function(a){a instanceof RightNow.Event.EventObject&&this._collectSearchFilters(a)},post:function(){var a,b;if(this._excludedFilters)for(a=0;a<this._excludedFilters.length;a++)b=this._excludedFilters[a],this._respondingFilters&&!this._respondingFilters[b]&&(b=this._filters.allFilters[b])&&b.filters&&(b.filters.data[0]?b.filters.data[0]=null:b.filters.data=null);this.fire("send",this._filters,this._params)}})._addEventHandler("send",{pre:function(a){this._originalEventObject||(this._originalEventObject={filters:{page:1,newPage:!1}});this._eventCancelled=!1},during:function(a){!1===a&&(this._eventCancelled=!0)},post:function(a){this._eventCancelled||(this._excludedFilters=[],q.go(this._originalEventObject.filters,this._filters,this._params,this.searchSource,this))}})._addEventHandler("setInitialFilters",{post:function(a){this._setInitialFilters(a)}})._addEventHandler("appendFilter",{post:function(a){this._originalEventObject||(this._originalEventObject=RightNow.Lang.cloneObject(a));this._mergeFilters(a)}})._addEventHandler("excludeFilterFromNextSearch",{post:function(a){this._excludedFilters||(this._excludedFilters=[]);this._excludedFilters.push(a.data.name)}})._addEventHandler("reset").on("reset",function(){this._filters=RightNow.Lang.cloneObject(this._initialFilters);if(this._params&&this._filters&&this._filters.allFilters){var a=this._filters.allFilters;this._initialParams&&(this._params=RightNow.Lang.cloneObject(this._initialParams));this.Y.Object.each(this._params,function(b,c,d){a[c]&&a[c].filters&&"data"in a[c].filters&&(d[c]=a[c].filters.data)})}},this)}},clearCache:function(){l.enabled&&l.clearCache(this.searchSource.type+this.searchSource.id)},doesCacheExist:function(){return l.enabled?l.doesCacheExist(this.searchSource.type+this.searchSource.id):!1},_setFilters:function(c){this._filters=c},_setInitialFilters:function(c){c instanceof RightNow.Event.EventObject&&(this.Y.Object.isEmpty(c.filters)||(this._filters=c.filters,this._initialFilters=RightNow.Lang.cloneObject(c.filters)),this.Y.Object.isEmpty(c.data)||(this._params=c.data,this._initialParams=RightNow.Lang.cloneObject(c.data)))},_mergeFilters:function(c){this._filters.allFilters=this.Y.mix(this._filters.allFilters,c.filters,!0,null,0,!0)},_collectSearchFilters:function(c){c=new RightNow.Event.EventObject({instanceID:c.w_id},RightNow.Lang.cloneObject(c));c.filters.searchName?(this._respondingFilters||(this._respondingFilters={}),this._respondingFilters[c.filters.searchName]=!0,this._filters||(this._filters={}),this._filters.allFilters||(this._filters.allFilters={}),this._filters.allFilters[c.filters.searchName]=c):"generic"===this.searchSource.type&&(this._params=this.Y.mix(this._params||{},c.data,!0))}});f.prototype={_invoke:function(c,e,a,b){for(var f=0;f<this.sources.length;f++)this.sources[f][c](e,a,b);return this},on:function(c,e,a){return this._invoke("on",c,e,a)},fire:function(c,e,a){return this._invoke("fire",c,e,a)}};return{multipleSourcesWrapper:f,get:function(c){return"undefined"===typeof c?h:h[c]},add:function(c,e){if(c&&e instanceof k&&!h[c])return h[c]=e},getSearchSources:function(c,e){var a=c?(c+"").split(","):[],b=e?(e+"").split(","):[],f=[],d;for(d=0;d<a.length;d++)f.push({type:"report",id:a[d]});for(d=0;d<b.length;d++)f.push({type:"generic",id:b[d]});return{report:a,source:b,keys:f}},searchSource:k,findNamedSource:function(c,e){if(e){this.findNamedSource.findSource||(this.findNamedSource.findSource=function(a,b){if(b.multiple)for(var c=0;c<b.sources.length;c++){if(b.sources[c].instanceID===a)return b.sources[c]}else if(b.instanceID===a)return b});this.findNamedSource.warning||(this.findNamedSource.warning=function(a){RightNow.UI.DevelopmentHeader&&RightNow.UI.DevelopmentHeader.addJavascriptWarning(RightNow.Text.sprintf(RightNow.Interface.getMessage("PCT_D_SRCH_SRC_ID_RPT_ID_SRC_ID_LBL"),a))});var a=[],b=[];if("string"===typeof e||"number"===typeof e){e=(e+"").split(",");if(1<e.length){for(var g=0,d;g<e.length;g++)(d=this.findNamedSource.findSource(e[g],c))?a.push(d):b.push(e[g]);b.length&&this.findNamedSource.warning(b.join(", "));if(a.length)return 1<a.length?new f(a):a[0]}else if(a=this.findNamedSource.findSource(e[0],c))return a;!b.length&&this.findNamedSource.warning(e[0]);return c}if("object"===typeof e){for(g in e)e.hasOwnProperty(g)&&((d=this.findNamedSource.findSource(g,c))?(d=YUI().mix(d,e[g]),a.push(d)):b.push(g));b.length&&this.findNamedSource.warning(b.join(", "));if(a.length)return 1<a.length?new f(a):a[0]}}if(!c)throw Error("The widget extending from RightNow.SearchFilter doesn't have report_id or source_id attributes.");return c}}}();RightNow.SearchFilter=RightNow.Widgets.extend({constructor:function(){for(var f=m.getSearchSources(this.data.attrs.report_id,this.data.attrs.source_id),h=[],k=0,c,e;k<f.keys.length;k++)e=f.keys[k],c=m.get(e.type+e.id),c||(c=new m.searchSource(this.Y,e),m.add(e.type+e.id,c)),h.push(c);1<h.length&&(c=new m.multipleSourcesWrapper(h));this.searchSource=function(a){return m.findNamedSource(c,a)}}});RightNow.ResultsDisplay=RightNow.SearchFilter})();
RightNow.Widgets.Grid=RightNow.ResultsDisplay.extend({overrides:{constructor:function(){this.parent();this._modActionPerformed=false;this._contentName=this.baseSelector+'_Content';this._contentDiv=this.Y.one(this._contentName);this._gridName=this.baseSelector+'_Grid';this._loadingDiv=this.Y.one(this.baseSelector+'_Loading');this._dataTable=null;this._columns=[];this._data=[];this._sortOn=null;RightNow.Event.subscribe('evt_getFiltersRequest',this._fireSortEvent,this);RightNow.Event.subscribe('evt_sortTypeResponse',this._onSortTypeResponse,this);this.searchSource().on('response',this._onReportChanged,this).on('send',this._searchInProgress,this);this._setFilter();if(this.data.attrs.headers){this._generateYUITable(this.data.js.headers);this._setSortableLabel(this.data.js.headers);}
else{this._contentDiv.addClass('rn_NoHeader');}
if(RightNow.Event.isHistoryManagerFragment()){this._setLoading(true);}
else{this._updateAriaAlert((this._dataTable&&this._data.length>0)?this.data.attrs.label_screen_reader_search_success_alert:this.data.attrs.label_screen_reader_search_no_results_alert);}}},_setFilter:function(){this._sortFilters=new RightNow.Event.EventObject(this,{filters:{searchName:this.data.js.searchName,report_id:this.data.attrs.report_id,data:{}}});this._setSortData();var eo=new RightNow.Event.EventObject(this,{filters:{report_id:this.data.attrs.report_id,token:this.data.js.token,allFilters:this.data.js.filters,format:this.data.js.format}});eo.filters.format.parmList=this.data.attrs.add_params_to_url;this.searchSource().fire('setInitialFilters',eo);},_setSortData:function(columnID,sortDirection){this._sortFilters.filters.data.col_id=(columnID||this.data.js.columnID);this._sortFilters.filters.data.sort_direction=(sortDirection||this.data.js.sortDirection);},_searchInProgress:function(evt,args){var params=args[1];if(!params||!params.newPage)
{document.body.setAttribute('aria-busy','true');this._setLoading(true);}},_setLoading:function(loading){var toOpacity=1,method='removeClass';if(loading){this._contentDiv.setStyle('height',this._contentDiv.get('offsetHeight')+'px');toOpacity=0;method='addClass';}
this._contentDiv.transition({opacity:toOpacity,duration:0.4});this._loadingDiv[method]('rn_Loading');},_onReportChanged:function(type,args){var sortData=RightNow.Event.getDataFromFiltersEventResponse(args,this.data.js.searchName,this.data.attrs.report_id);if(sortData)
this._sortFilters.filters.data=sortData;else
this._setSortData();var newdata=args[0].data;this._setLoading(false);var currentPageSize=newdata.per_page,cols=newdata.headers.length,data={instanceID:this.instanceID,tableID:this.baseDomID+'_Grid',caption:this.data.attrs.label_caption,attrs:this.data.attrs,headers:[],rows:[],js:this.data.js,hiddenHeaders:[],hiddenRows:[]},anchor,width,row,hiddenRow,i,j,td,currentDataLength;if(newdata.error){RightNow.UI.Dialog.messageDialog(newdata.error,{"icon":"WARN"});}
if(this.data.attrs.headers){if(newdata.row_num){data.headers.push({label:this.data.attrs.label_row_number});}
for(i=0;i<cols;i++){td={label:newdata.headers[i].heading};if(width=newdata.headers[i].width){td.style='width: "'+width+'%"';}
if(newdata.headers[i].visible){data.headers.push(td);}
else{data.hiddenHeaders[i]=td;}}}
if(newdata.total_num>0){currentDataLength=newdata.data.length;for(i=0;i<currentPageSize&&i<currentDataLength;i++){row=[];hiddenRow=[];if(newdata.row_num){row.push(i+1);}
for(j=0;j<cols;j++){if(!newdata.headers[j].visible){hiddenRow[j]=newdata.data[i][j];}
else{row.push(newdata.data[i][j]);}}
data.rows.push(row);data.hiddenRows.push(hiddenRow);}
if(this.data.attrs.hide_when_no_results)
RightNow.UI.show(this.baseSelector);}
else if(this.data.attrs.hide_when_no_results){RightNow.UI.hide(this.baseSelector);}
this._contentDiv.set('innerHTML',new EJS({text:this.getStatic().templates.dataTable}).render(data));if(this.data.attrs.headers){this._generateYUITable(newdata.headers);this._setSortableLabel(newdata.headers);if(!this._modActionPerformed){this._setFocusAfterSort(this._sortFilters.filters.data.col_id);}}
this._contentDiv.setStyle('height','auto');RightNow.Url.transformLinks(this._contentDiv);document.body.setAttribute('aria-busy','false');if(!this._modActionPerformed){this._updateAriaAlert((newdata.total_num>0)?this.data.attrs.label_screen_reader_search_success_alert:this.data.attrs.label_screen_reader_search_no_results_alert);}
else{this._modActionPerformed=false;}},_setTableData:function(headers){var dataTypes=this.data.js.dataTypes,sortDirection=this._sortFilters.filters.data.sort_direction,sortColumnID=this._sortFilters.filters.data.col_id,sortDirectivesPresent=(sortDirection!==null&&sortColumnID!==null),rowNumbersPresent=this.data.js.rowNumber,key,columnID,header,rowObj,rows,i,tableHeaderID,iconColumns=this.data.attrs.icon_cols.split(",")||[];this._columns=[];this._data=[];if(rowNumbersPresent){this._columns.push({key:'c0',label:this.data.attrs.label_row_number,sortable:false});}
for(i=0;i<headers.length;i++){header=headers[i];if(!header.visible)
continue;columnID=header.col_id;key='c'+columnID;tableHeaderID=this.instanceID+'_'+key;if(sortDirectivesPresent&&sortColumnID===columnID){this._sortOn={key:key,dir:sortDirection};}
var isSortable=!this.Y.Lang.isArray(this.data.attrs.exclude_from_sorting)||this.Y.Array.indexOf(this.data.attrs.exclude_from_sorting,(i+1).toString())===-1;this._columns.push({id:tableHeaderID,key:key,label:(iconColumns.indexOf(columnID.toString())!==-1)?"<span class='rn_ScreenReaderOnly'>"+header.heading+"</span>":header.heading,columnID:columnID,sortable:isSortable,emptyCellValue:"&nbsp;",allowHTML:true,className:"rn_GridColumn_"+columnID,title:isSortable?header.heading:"",cellTemplate:'<td class="{className}" headers="'+tableHeaderID+'">{content}</td>'});}
if(rows=this.Y.all(this._gridName+' tbody tr')){rows.each(function(row){rowObj={};row.all('td').each(function(td,i){rowObj[this._columns[i].key]=td.getContent();},this);this._data.push(rowObj);},this);}},_generateYUITable:function(headers){this._setTableData(headers);this._dataTable=new this.Y.DataTable({data:this._data,columns:this._columns,caption:this.data.attrs.label_caption,strings:{asc:RightNow.Interface.getMessage('ASCENDING_LBL'),desc:RightNow.Interface.getMessage('DESCENDING_LBL'),sortBy:RightNow.Text.sprintf(RightNow.Interface.getMessage('SORT_BY_S_LBL'),'{title}'),reverseSortBy:RightNow.Interface.getMessage('REVERSE_SORT_BY_COLUMN_LBL')}});this._dataTable.on('sort',this._onSort,this);this.Y.one(this._gridName).remove();this._dataTable.render(this._contentName);if(!this._data.length){this._dataTable.showMessage(RightNow.Interface.getMessage('NO_RECORDS_FOUND_MSG'));this._dataTable.setAttrs({'sortable':false});this._sortOn=null;}
else{this.Y.one(this._contentName+' .yui3-datatable-message-content').remove();}
if(this._sortOn){this._setSortedColumn(this._sortOn.key,this._sortOn.dir);}
this.Y.all(this._contentName+" th .yui3-datatable-sort-liner").each(function(node){node.setAttribute('aria-labelledby',node.ancestor('th').get('id'));},this);},_setSortableLabel:function(headers){var yuiHeaderPrefix='yui3-datatable-header.rn_GridColumn_',table=this.Y.one('#'+this._dataTable.get('id')),columnID=0;for(var i=0;i<headers.length;i++){if(headers[i].visible){columnID=i+1;header=table.one('th.'+yuiHeaderPrefix+columnID);if(header!==null){headerLiner=header.one('.yui3-datatable-sort-liner');if(headerLiner!==null){headerLiner.append('<span class="rn_ScreenReaderOnly">'+'&nbsp;'+this.data.attrs.label_sortable+'</span>');}}}}},_onSort:function(sortEvent){if(!sortEvent.sortBy)return;this.Y.Object.each(sortEvent.sortBy[0],function(value,columnID){this._setSortData(parseInt(RightNow.Text.getSubstringAfter(columnID,'c'),10),this._getDirectionToSort(columnID));},this);RightNow.Event.fire("evt_sortChange",this._sortFilters);this.searchSource().fire('search',this._sortFilters);sortEvent.halt();},_setFocusAfterSort:function(columnID){var yuiHeaderPrefix='yui3-datatable-header.rn_GridColumn_',header=this.Y.one('#'+this._dataTable.get('id')).one('th.'+yuiHeaderPrefix+columnID);if(header){headerLiner=header.one('.yui3-datatable-sort-liner');if(headerLiner!==null){headerLiner.focus();}}},_directions:{desc:2,asc:1},_getDirectionToSort:function(columnID){var yuiPrefix='yui3-datatable-',header=this.Y.one('#'+this._dataTable.get('id')).one('th.'+yuiPrefix+'col-'+columnID+'.'+yuiPrefix+'sortable-column');return(header&&header.hasClass(yuiPrefix+'sorted-desc'))?this._directions.asc:this._directions.desc;},_setSortedColumn:function(columnID,dir){var yuiPrefix='yui3-datatable-',sortedClass=yuiPrefix+'sorted',descClass=yuiPrefix+'sorted-desc',table=this.Y.one('#'+this._dataTable.get('id')),header=table.one('th.'+yuiPrefix+'col-'+columnID+'.'+yuiPrefix+'sortable-column');if(header){var headerLiner=header.one('.yui3-datatable-sort-liner'),sortLabel=(dir===this._directions.asc)?RightNow.Interface.getMessage('SORTED_ASCENDING_LBL'):RightNow.Interface.getMessage('SORTED_DESCENDING_LBL');headerLiner.append('<span class="rn_ScreenReaderOnly">'+sortLabel+'</span>');}
if(!this._prevSorted&&this.data.js.columnID){this._prevSorted='c'+this.data.js.columnID;}
if(this._prevSorted){table.all('.'+yuiPrefix+'col-'+this._prevSorted).removeClass(sortedClass).removeClass(descClass);}
if(header){if(dir===this._directions.asc){header.removeClass(descClass);}
else{header.addClass(descClass);}
header.addClass(sortedClass);}
table.all('td.'+yuiPrefix+'col-'+columnID).addClass(sortedClass);this._prevSorted=columnID;},_fireSortEvent:function(){RightNow.Event.fire('evt_searchFiltersResponse',new RightNow.Event.EventObject(this,{filters:this._sortFilters}));},_onSortTypeResponse:function(type,args){var evt=args[0];this._setSortData(evt.filters.data.col_id,evt.filters.data.sort_direction);},_updateAriaAlert:function(text){this._ariaAlert=this._ariaAlert||this.Y.one(this.baseSelector+'_Alert');if(this._ariaAlert){this._ariaAlert.set('innerHTML',text);}}});